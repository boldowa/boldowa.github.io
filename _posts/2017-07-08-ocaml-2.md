---
layout: post
title: "はじめての OCaml (2) - 基本文法 / 基本機能 -"
category: OCaml
tags: [OCaml, 文法]
---
{% include JB/setup %}

基本的な文法を確認してみます。

## コメント

C++やJavaでいうところの **//** に該当する1行コメントはありません。

```ocaml
(*
 * このようにコメントを書けます
 * (*
 *  * ネストさせることも(*できます*)
 *  *)
 *)
```

また、ドキュメント生成ツールとして、**ocamldoc**というツールがあるようです。  
それに対応したコメントの記述方法が以下となります。

```ocaml
 (** このように、"(**" と "*)" で囲むと、
     ocamldoc で出力される対象になるようです *)
```

標準でドキュメント生成機構がついている言語は**っょぃ**の法則。

ocamldoc のその他文法はまたこんど。

## 文のおわり

セミコロン２コです。

これ忘れると評価されません。C言語等のノリで1コにするとハマります。

「ナゼ２個なんだっ……！！」というツッコミは、古き良き手続き型経験者共通の疑問……なのかな？

```ocaml
print_string "hoge\n";;
```

## 四則演算

ド定番、基本中の基本の機能です。

整数と浮動小数点数で演算子が違うので、注意が必要です。

また、整数と浮動小数点数とを足し合わせることは**できません**。  
しかるべき型変換関数を呼び出して変換する必要があります。  
詳細は、またの機会に…。

```ocaml
(* 和 *)
let i = 1 + 2;; (* val i : int = 3 *)
let f = 1.0 +. 4.0;; (* val f : float = 5. *)
```

```ocaml
(* 差 *)
let i = 2 - 1;; (* val i : int = 1 *)
let f = 4.0 +. 1.0;; (* val f : float = 3. *)
```

```ocaml
(* 積 *)
let i = 2 * 3;; (* val i : int = 6 *)
let f = 3.0 *. 2.5;; (* val f : float = 7.5 *)
```

```ocaml
(* 商 *)
let i = 10 / 2;; (* val i : int = 5 *)
let f = 3.0 /. 2.0;; (* val f : float = 1.5 *)
```

```ocaml
(* 余剰 *)
let i = 5 mod 2;; (* val i : int = 2 *)
(* float の余剰計算はなし *)
```

## if - else 文

処理分岐の制御文です。

```ocaml
let f x = 
	if x <> 0 then print_string "Not 0\n"
	else print_string "0\n";;

f 0
(* 0 *)
f 1
(* Not 0 *)
```

制御文は他にも、手続き型よろしく **for** / **foreach** / **while** もありますが、関数型言語においてはmapや再帰を使うのが一般的。

なので、ここではノータッチ。関数型に慣れるための、いわば**縛りプレイ**(?)です。  
(ゆるい縛りだなぁ…)

## ちなみに…

switch-case 文は**存在しないようです**。

そのかわり、**パターンマッチ**構文があります。

パターンマッチ構文は次回以降に…。

